{
 "align_labels_right": 1,
 "creation": "2020-05-14 16:36:20.914530",
 "css": "\n\n.myButton {\n\tbox-shadow:inset 0px 1px 0px 0px #e184f3;\n\tbackground:linear-gradient(to bottom, #cb8bd9 5%, #64356e 100%);\n\tbackground-color:#cb8bd9;\n\tborder-radius:6px;\n\tborder:1px solid #6b2a78;\n\tdisplay:inline-block;\n\tcursor:pointer;\n\tcolor:#ffffff;\n\tfont-family:Arial;\n\tfont-size:12px;\n\tfont-weight:bold;\n\tpadding:10px 10px;\n\ttext-decoration:none;\n\ttext-shadow:0px 1px 0px #722087;\n}\n.myButton:hover {\n\tbackground:linear-gradient(to bottom, #64356e 5%, #cb8bd9 100%);\n\tbackground-color:#64356e;\n}\n.myButton:active {\n\tposition:relative;\n\ttop:1px;\n}\n\n        ",
 "custom_format": 0,
 "custom_js": "\n\n $(\".send_whatsapp\").click(function(){\n          let text = \"\u0627\u0644\u0633\u0644\u0627\u0645 \u0639\u0644\u064a\u0643\u0645 \u0648\u0631\u062d\u0645\u0629 \u0627\u0644\u0644\u0647 \u062c\u0645\u064a\u0639\u064b\u0627\u060c \\r\\n\\r\\n\"+\n\n          \"\u0646\u062a\u064a\u062c\u0629 \u0641\u062d\u0635 \u0623\u062d\u062f \u0627\u0644\u0623\u0642\u0627\u0631\u0628 \u0628\u064a\u0651\u0646\u062a \u0648\u062c\u0648\u062f \u0645\u0631\u0636 \u0648\u0631\u0627\u062b\u064a \u0641\u064a \u0639\u0627\u0626\u0644\u062a\u0646\u0627 \u0627\u0644\u0643\u0631\u064a\u0645\u0629 \u0648\u0647\u0648 \u0645\u0631\u0636 {{disease}}\\r\\n\\n\"+\n          \n          \"\u0627\u0644\u0623\u0645\u0631\u0627\u0636 \u0627\u0644\u0648\u0631\u0627\u062b\u064a\u0629 \u062a\u0646\u062a\u0634\u0631 \u0628\u064a\u0646 \u0627\u0644\u0623\u0642\u0627\u0631\u0628\u060c \u0641\u0648\u0627\u0631\u062f \u062c\u062f\u064b\u0627 \u0625\u0646\u0651 \u0623\u062d\u062f \u0645\u0646\u0651\u0627 \u064a\u0643\u0648\u0646 \u062d\u0627\u0645\u0644 \u0644\u0644\u0645\u0631\u0636 \u0628\u062f\u0648\u0646 \u0639\u0644\u0645 \u0644\u0639\u062f\u0645 \u0648\u062c\u0648\u062f \u0623\u064a \u0623\u0639\u0631\u0627\u0636..\\r\\n\\n \u0641\u0645\u0646 \u0627\u0644\u0645\u0647\u0645 \u062c\u062f\u064b\u0627 \u0627\u0644\u0643\u0634\u0641 \u0639\u0646 \u0647\u0630\u0627 \u0627\u0644\u0645\u0631\u0636 \u062a\u0641\u0627\u062f\u064a\u064b\u0627 \u0644\u0623\u064a \u0645\u0623\u0633\u0627\u0629 \u0644\u0627 \u0633\u0645\u062d \u0627\u0644\u0644\u0647 \u0648\u0644\u0625\u064a\u0642\u0627\u0641 \u0627\u0646\u062a\u0634\u0627\u0631 \u0627\u0644\u0645\u0631\u0636.. \\r\\n\\r\\n \"+\n          \n          \"\u062a\u0642\u062f\u0631 \u062a\u062a\u0648\u0627\u0635\u0644 \u0639\u0646 \u0637\u0631\u064a\u0642 \u0647\u0630\u0627 \u0627\u0644\u0631\u0627\u0628\u0637 \u0627\u0644\u062e\u0627\u0635 \u0628\u0639\u0627\u0626\u0644\u062a\u0646\u0627 \u0645\u0639 \u0645\u0631\u0643\u0632 (\u062c\u064a\u0646\u0648\u0645) \u0648\u0647\u0645 \u0645\u0646 \u062e\u064a\u0631\u0629 \u0634\u0628\u0627\u0628\u0646\u0627 \u0627\u0644\u0645\u062c\u062a\u0647\u062f\u064a\u0646 \u0641\u064a \u0645\u0648\u0636\u0648\u0639 \u0627\u0644\u0623\u0645\u0631\u0627\u0636 \u0627\u0644\u0648\u0631\u0627\u062b\u064a\u0629\u060c \u0639\u0646\u062f\u0647\u0645 \u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631 \u062c\u0627\u0647\u0632\u0629 \u0644\u0625\u0643\u0645\u0627\u0644 \u0627\u0644\u0641\u062d\u0635 \u0645\u0639\u0643 \u0628\u062e\u0637\u0648\u0627\u062a \u0628\u0633\u064a\u0637\u0629:\\r\\n\\n\" + \"http://saudigenome.net/envelope/{{ shareable_file_name }}.html\"\n          \n          var whatsappMessage = \"\u0623\u0647\u0644\u0627 \u0628\u0643 \u0639\u0632\u064a\u0632\u064a \\r\\n\\r\\n \u064a\u0633\u0639\u062f\u0646\u064a \u0623\u0646 \u0623\u0634\u0627\u0631\u0643\u0643 \u0645\u0644\u0641 \u064a\u062a\u0639\u0644\u0642 \u0628\u0627\u0644\u0627\u0645\u0631\u0627\u0636 \u0627\u0644\u0648\u0631\u0627\u062b\u064a\u0629 \u0648 \u064a\u0645\u0643\u0646\u0643 \u0645\u0634\u0627\u0631\u0643\u062a\u0629 \u0627\u0644\u0645\u0644\u0641 \u0645\u0639 \u0645\u0646 \u062a\u062d\u0628 \\r\\n\" + \"http://saudigenome.net/envelope/{{ shareable_file_name }}.html\";\n          whatsappMessage = window.encodeURIComponent(text)\n          location.href = \"https://api.whatsapp.com/send?text=\" + whatsappMessage;\n        });\n\n//debugger;\nfunction toggle_agree(speed){\n\t$(\"#disclaimer_body\").hide(speed);\n\t$(\"#agree_button\").hide(speed, function(){\n\t$(\"#after_agree\").show(speed);\n\t$(\"#location_button\").show(speed);\n\t$(\"#lab_card_button\").show(speed);\n    });\t\n}\n\n$(\".agree\").click(function(){\n\tfrappe.db.set_value(doctype,docname, 'stage', \"Consent provided\");\n\tfrappe.db.insert({\n                    doctype: 'Customer Action Log',\n                    doctype_name:doctype,\n                    record_name: docname,\n                    action:\"Consent provided\",\n                    channel: \"SMS\",\n                    date:frappe.datetime.now_date(),\n                    time:frappe.datetime.now_time()\n\t\t\t\t});\n\ttoggle_agree(1000);\n});\n\nfunction toggle_lab_card(speed){\n\t$(\"#location_button\").hide();\n\t$(\"#lab_card_button\").hide();\n\t$(\"#after_agree\").hide();\n\t$(\"#lab_card_body\").show(speed);\n\t$(\"#pipetting\").show(speed);\n\t$(\"[data-fieldname='national_id_scan']\").show(speed);\n}\n\n$(\"#lab_card_button\").click(function(){\n\ttoggle_lab_card(1000);\n\n});\n\nfunction toggle_pipetting(speed){\n\t$(\"#after_agree\").hide();\n\t$(\"#lab_card_button\").hide();\n\t$(\"#location_button\").hide();\n\t$(\"#lab_card_body\").hide();\n\t$(\"#pipetting\").hide();\n\t$(\"[data-fieldname='national_id_scan']\").hide();\n\t$(\"#after_pipetting\").show(speed);\n}\n\n$(\"#pipetting\").click(function(){\n\tfrappe.db.set_value(doctype,docname, 'stage', \"Sample Deposited\");\n\tfrappe.db.insert({\n                    doctype: 'Customer Action Log',\n                    doctype_name:doctype,\n                    record_name: docname,\n                    action:\"Sample Deposited\",\n                    channel: \"SMS\",\n                    date:frappe.datetime.now_date(),\n                    time:frappe.datetime.now_time()\n\t\t\t\t});\n\ttoggle_pipetting(1000);\n\t});\n\nfunction hide_all(){\n\t$(\"#after_agree\").hide();\n\t\t\t$(\"#location_button\").hide();\n\t\t\t$(\"#lab_card_button\").hide();\n\t\t\t$(\"[data-fieldname='national_id_scan']\").hide()\n\t\t\t$(\"#lab_card_body\").hide();\n\t\t\t$(\"#pipetting\").hide();\n\t\t\t$(\"#after_pipetting\").hide();\n}\n\nfrappe.db.get_value('Lab Test', docname, 'stage', (s) => {\n\tswitch (s.stage) {\n\t\tcase \"Sample Scheduled\":\n\t\t\tfrappe.db.insert({\n\t\t\t\tdoctype: 'Customer Action Log',\n\t\t\t\tdoctype_name:doctype,\n\t\t\t\trecord_name: docname,\n\t\t\t\taction:\"SMS URL Opened\",\n\t\t\t\tchannel: \"SMS\",\n\t\t\t\tdate:frappe.datetime.now_date(),\n\t\t\t\ttime:frappe.datetime.now_time()\n\t\t\t});\n\t\t\thide_all();\t\t\t\n\t\t\tbreak;\n\t\tcase \"Consent provided\":\n\t\t\thide_all();\n\t\t\ttoggle_agree(0);\n\t\t\tbreak;\n\t\tcase \"Sample Deposited\":\n\t\t\thide_all();\n\t\t\ttoggle_agree(0);\n\t\t\ttoggle_pipetting(0);\n\t\t\tbreak;\n\t  }\n});",
 "disabled": 0,
 "doc_type": "Lab Test",
 "docstatus": 0,
 "doctype": "Print Format",
 "font": "Default",
 "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"Custom HTML\", \"options\": \" \"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"print_hide\": 0, \"fieldname\": \"disclaimer_title\", \"label\": \"Disclaimer Title\"}, {\"print_hide\": 0, \"fieldname\": \"new_line\", \"label\": \"New Line\"}, {\"print_hide\": 0, \"fieldname\": \"patient_box\", \"label\": \"Patient Box\"}, {\"print_hide\": 0, \"fieldname\": \"new_line\", \"label\": \"New Line\"}, {\"print_hide\": 0, \"fieldname\": \"disclaimer_body\", \"label\": \"Disclaimer Body\"}, {\"print_hide\": 0, \"fieldname\": \"new_line\", \"label\": \"New Line\"}, {\"print_hide\": 0, \"fieldname\": \"agree_button\", \"label\": \"Agree Button\"}, {\"print_hide\": 0, \"fieldname\": \"after_agree\", \"label\": \"After Agree\"}, {\"print_hide\": 0, \"fieldname\": \"lab_card_button\", \"label\": \"Lab Card Button\"}, {\"print_hide\": 0, \"fieldname\": \"lab_card_body\", \"label\": \"Lab Card Body\"}, {\"print_hide\": 0, \"fieldname\": \"new_line\", \"label\": \"New Line\"}, {\"print_hide\": 0, \"fieldname\": \"pipetting\", \"label\": \"Pipetting\"}, {\"print_hide\": 0, \"fieldname\": \"after_pipetting\", \"label\": \"After Pipetting\"}, {\"print_hide\": 0, \"fieldname\": \"national_id_scan\", \"align\": \"left\", \"label\": \"National ID Scan\"}, {\"print_hide\": 0, \"fieldname\": \"new_line\", \"label\": \"New Line\"}, {\"print_hide\": 0, \"fieldname\": \"location_button\", \"label\": \"Location Button\"}]",
 "html": "\n  <div class=\"page-break\">\n    <img alt=\"\"\n      src=\"./images/genome_logo.png\"\n      style=\"float: left; width: 165px; height:127px;\" />\n      \n  <strong>\u0645\u0631\u062d\u0628\u0627 {{doc.patient_name}}</strong>\n  \n  \n  <button onclick=\"location.href='./{{doc.file2}}'\" class=\"button\"><b>\u0634\u0631\u062d \u0627\u0644\u0627\u062e\u0635\u0627\u0626\u064a\u0629</b></button> \n  <button onclick=\"location.href='./{{doc.file1}}'\"   class=\"button\"><b>\u0646\u062a\u064a\u062c\u0629 \u0627\u0644\u0641\u062d\u0635</b></button>\n  \n  \u0639\u0632\u064a\u0632\u0646\u0627 {{doc.patient_name}} , \u0627\u0644\u0623\u0645\u0631\u0627\u0636 \u0627\u0644\u0648\u0631\u0627\u062b\u064a\u0629 \u062a\u0646\u062a\u0634\u0631 \u0628\u064a\u0646 \u0627\u0644\u0623\u0642\u0627\u0631\u0628, \u0641\u0642\u062f \u064a\u0643\u0648\u0646 \u0623\u062d\u062f \u0623\u0642\u0627\u0631\u0628\u0643 \u062d\u0627\u0645\u0644\u0627\u064b \u0644\u0644\u0645\u0631\u0636 \u062f\u0648\u0646 \u0623\u0646 \u062a\u0639\u0644\u0645, \u0641\u0644\u0630\u0644\u0643 \u064a\u0648\u0635\u0649 \u0637\u0628\u064a\u0627\u064e \u0623\u0646 \u064a\u0641\u062d\u0635 \u0628\u0642\u064a\u0629 \u0623\u0641\u0631\u0627\u062f \u0627\u0644\u0639\u0627\u0626\u0644\u0629 \u0639\u0646 \u0647\u0630\u0627 \u0627\u0644\u0645\u0631\u0636 (\u0628\u0627\u0644\u062a\u062d\u062f\u064a\u062f \u0623\u0642\u0627\u0631\u0628 \u0627\u0644\u062f\u0631\u062c\u0629 \u0627\u0644\u0623\u0648\u0644\u0649 \u0648 \u0627\u0644\u062b\u0627\u0646\u064a\u0629 : \u0627\u0644\u0625\u062e\u0648\u0629 \u0648 \u0627\u0644\u0623\u062e\u0648\u0627\u062a \u0648 \u0623\u0628\u0646\u0627\u0621 \u0648 \u0628\u0646\u0627\u062a \u0627\u0644\u0639\u0645\u0640/\u0629 \u0648 \u0627\u0644\u062e\u0627\u0644\u0640/\u0629)\n  \u0647\u0630\u0627 \u0627\u0644\u0641\u062d\u0635 \u064a\u062d\u062f \u0645\u0646 \u0625\u0646\u062c\u0627\u0628 \u0623\u0637\u0641\u0627\u0644 \u0645\u0635\u0627\u0628\u064a\u0646 \u0628\u0627\u0644\u0645\u0631\u0636 \u0637\u064a\u0644\u0629 \u062d\u064a\u0627\u062a\u0647\u0645 \u0648 \u064a\u0648\u0642\u0641 \u0627\u0646\u062a\u0634\u0627\u0631 \u0627\u0644\u0645\u0631\u0636 \u0641\u064a \u0627\u0644\u0639\u0627\u0626\u0644\u0629 \u0628\u0625\u0630\u0646 \u0627\u0644\u0644\u0647 .. \u0642\u0645\u0646\u0627 \u0628\u0643\u062a\u0627\u0628\u0629 \u0631\u0633\u0627\u0644\u0647 \u0642\u0635\u064a\u0631\u0629 \u0644\u0644\u0646\u0634\u0631 \u0641\u064a \u0648\u0627\u062a\u0633\u0627\u0628 \u0644\u062a\u0634\u062c\u064a\u0639 \u0623\u0642\u0627\u0631\u0628\u0643 \u0644\u0623\u062c\u0631\u0627\u0621 \u0627\u0644\u0641\u062d\u0635 \u0648 \u0644\u0643 \u062d\u0631\u064a\u0629 \u0627\u0644\u062a\u0639\u062f\u064a\u0644 \u0648 \u0627\u0644\u0645\u0634\u0627\u0631\u0643\u0629\u0628\u0627\u0644\u0637\u0628\u0639\n  \n  \n      <button class=\"button green send_whatsapp\" style=\"text-align: center;\">Whatsapp</button>\n  \n      <p style=\"text-align: center;\"><span style=\"color:59153F;font-size: 17px;\">&nbsp;\u0645\u0639 \u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0629 \u0623\u0646 \u0646\u062a\u064a\u062c\u0629 \u0641\u062d\u0635\u0643 \u062e\u0627\u0635\u0629 \u0628\u0643 \u0648\ufefb \u064a\u0645\u0643\u0646 \ufef7\u062d\u062f\n          \u0627\u0644\u0625\u0637\u0644\u0627\u0639 \u0639\u0644\u064a\u0647\u0627 .. \u062f\u0645\u062a\u0645 \u0628\u0631\u0639\u0627\u064a\u0629 \u0627\u0644\u0644\u0647</span></p>\n    \n  </div>",
 "idx": 0,
 "line_breaks": 1,
 "modified": "2020-06-19 01:26:46.675812",
 "modified_by": "Administrator",
 "module": "Genome",
 "name": "Labtest Consent",
 "owner": "Administrator",
 "parent": "Lab Test",
 "print_format_builder": 1,
 "print_format_type": "Server",
 "show_section_headings": 1,
 "standard": "Yes"
}